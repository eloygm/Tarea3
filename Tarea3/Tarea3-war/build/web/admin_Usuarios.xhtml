<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:b="http://bootsfaces.net/ui">

    <body>

        <ui:composition template="./admin_Template.xhtml">

            <ui:define name="content">
                <h2>Administraci√≥n de Usuarios</h2>
                <dir id="filtro">
                    <span>aqui va un filtro</span>
                </dir>
                
                    
                <p:dataTable var="usuario" value="#{usuario_mb.getUsers()}">
                    
                    <p:column headerText="DNI">
                        <h:outputText value="#{usuario.DNI}" />
                    </p:column>

                    <p:column headerText="Nombre">
                        <h:outputText value="#{usuario.nombre}" />
                    </p:column>

                    <p:column headerText="Apellido1">
                        <h:outputText value="#{usuario.apellido1}" />
                    </p:column>

                    <p:column headerText="Seccion">
                        <h:outputText value="#{usuario.seccion}" />
                        <h:outputText value="Seccion" />
                    </p:column>
                    
                    <p:column headerText="Validar">
                        
                        <c:choose>
                            <c:when test="#{usuario.estado_perfil == true}">
                                <h:form id="validar">
                                    <p:commandButton icon="ui-icon-check" action="#{usuario_mb.validarUser(usuario)}" />
                                </h:form>
                            </c:when>
                            <c:otherwise>
                                <h:outputText value="Validado" />
                            </c:otherwise>
                        </c:choose>
                       
                    </p:column>
                    
                    <p:column headerText="Modificar">
                        <h:form id="modificar">
                            <p:commandButton icon="ui-icon-pencil" action="#{usuario_mb.updateViUser(usuario)}" />
                        </h:form>
                    </p:column>
                    
                    <p:column headerText="Borrar">
                        <h:form  id="borrado" >
                            <p:commandButton icon="ui-icon-circle-close" action="#{usuario_mb.deleteUsuario(usuario)}" />
                        </h:form>
                    </p:column>
                </p:dataTable>

                  


            </ui:define>

        </ui:composition>

    </body>
</html>
